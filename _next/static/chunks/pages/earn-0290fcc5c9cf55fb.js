(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[391],{25973:function(e,t,n){"use strict";var r=n(59499),i=n(19192),a=n(79500);n(67294);var s=n(19521),o=n(85893);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=(0,s.ZP)(a.kC).withConfig({displayName:"CardItem__FlexStyled",componentId:"sc-gca047-0"})(["min-width:60%;border-right:",";","{min-width:auto;}"],function(e){var t=e.leftBorder,n=e.theme;return t?"1px solid ".concat(n.colors.input):""},function(e){return e.theme.mediaQueries.ml});t.Z=function(e){var t=e.height,n=e.title,r=e.tokenSymbol,s=e.value,l=e.subTitle,d=e.subTitleColor,f=e.linkHref,p=e.btnTitle,m=e.btnProps,v=e.prefix,x=e.unit,h=e.leftBorder,b=e.tokenImg,w=e.children,j=e.decimals;return(0,o.jsxs)(c,{flexDirection:"column",alignItems:"center",flex:1,borderRight:"",height:t,padding:"20px 24px 0 24px",leftBorder:h,children:[(0,o.jsxs)(a.kC,{alignItems:"center",justifyContent:"flex-start",width:"100%",children:[(0,o.jsx)(a.xv,{fontSize:"14px",bold:!0,children:n}),"string"==typeof l?(0,o.jsx)(a.xv,{ml:"4px",fontSize:"12px",color:d||"warning",children:l}):l||null]}),b||(0,o.jsx)(i.O,{tokenAddress:r,width:40,height:40,mt:14}),(0,o.jsx)(a.Wo,{mt:"8px",fontSize:"18px",prefix:v,unit:void 0===x?" ".concat(r):x,bold:!0,value:s,decimals:j}),p&&(f?(0,o.jsx)(a.rU,{external:!0,style:{width:"100%"},href:f,children:(0,o.jsx)(a.zx,{mt:24,width:"100%",scale:"sm",children:p})}):(0,o.jsx)(a.zx,u(u({},m),{},{width:"100%",mt:24,scale:"sm",children:p}))),w]})}},16605:function(e,t,n){"use strict";var r=n(79500);n(67294);var i=n(85893);t.Z=function(e){var t=e.title,n=e.value,a=e.prefix,s=e.unit,o=e.decimals;return(0,i.jsxs)(r.xu,{margin:"8px 0",children:[(0,i.jsx)(r.xv,{small:!0,color:"textSubtle",textAlign:"center",children:t}),(0,i.jsx)(r.Wo,{fontSize:"18px",mt:"8px",bold:!0,textAlign:"center",prefix:a,decimals:o,unit:s,value:n||0})]})}},96323:function(e,t,n){"use strict";n.d(t,{_:function(){return f}});var r=n(59499),i=n(4730);n(67294);var a=n(79500),s=n(19521);n(99008);var o=n(85893),l=["children"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=(0,s.ZP)(a.xu).withConfig({displayName:"Container__BoxStyled",componentId:"sc-10nw1h2-0"})([""]);t.Z=function(e){var t=e.children,n=(0,i.Z)(e,l);return(0,o.jsx)(d,c(c({mx:"auto",maxWidth:"1200px"},n),{},{children:t}))};var f=(0,s.ZP)(a.kC).withConfig({displayName:"Container__FlexRowWrap2",componentId:"sc-10nw1h2-1"})(["flex-wrap:wrap;","{flex-wrap:nowrap;}"],function(e){return e.theme.mediaQueries.ml})},42571:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return J}});var r=n(16835),i=n(96323),a=n(81021),s=n(80770),o=n(59499),l=n(47265),u=n(51038),c=n(67294),d=n(9473),f=n(2875),p=n(66753),m=n(99855),v=n(70794),x=n(79600),h=function(e,t,n){var r=new v.Z(e.rewardsPerSecond).times(Number(t)||1).times(e.BONUS_MULTIPLIER).times(m.ii).times(365).div(new v.Z(e.totalAmount).times(Number(n)||1)).times(100);return{apr:r.toNumber(),apy:100*(0,x.g5)(r.toNumber()),aprDisplay:"".concat(12,"%")}};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var j=function(){var e=(0,d.I0)(),t=(0,c.useCallback)(function(){e((0,p.FG)())},[e]);return(0,c.useEffect)(function(){t()},[t]),{fetch:t}},g=function(){var e=(0,d.I0)(),t=(0,u.Z)().account,n=(0,c.useCallback)(function(){t&&e((0,p.lt)(t))},[e,t]);return(0,c.useEffect)(function(){n()},[n]),{fetch:n}},k=function(){var e=(0,f.o)(function(e){return e.earn}).earnInfoViews,t=(0,f.o)(function(e){return e.stats}).tokenPrices;return(0,c.useMemo)(function(){return e?e.map(function(e){return w(w(w({},e),h(e,t[e.rewardAddress],t[e.token])),{},{token1:l.U6[e.token],rewardToken:l.U6[e.rewardAddress]})}):[]},[e,t])},y=function(){var e=(0,f.o)(function(e){return e.earn}).earnUserInfoView;return(0,c.useMemo)(function(){return e||[]},[e])},Z=n(79500),O=n(94471),S=n(19521),C=n(50029),P=n(87794),T=n.n(P),E=n(8207),A=n(5539),_=n(52306),N=n(52299),z=n(22920),I=n(25889),L=n(97178),D=n(68262),W=n(6444),U={gasLimit:D.QL},M=function(e){var t,n=(0,u.Z)().account,r=(0,I.Z)().onConnectWallet,i=(0,L.ov)(e);return{depositHandle:c.useCallback((t=(0,C.Z)(T().mark(function e(t,a){var s,o,l,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return r(),e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,W.If)();case 6:if(e.sent){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,i.deposit(t,a,U);case 11:return s=e.sent,e.next=14,s.wait();case 14:return o=e.sent,z.Am.success("Deposit successfully!"),e.abrupt("return",o.status);case 19:return e.prev=19,e.t0=e.catch(3),u=e.t0.reason||(null===(l=e.t0.data)||void 0===l?void 0:l.message)||e.t0.message,console.error(e.t0),z.Am.error(u),e.abrupt("return",-1);case 25:case"end":return e.stop()}},e,null,[[3,19]])})),function(e,n){return t.apply(this,arguments)}),[n,i,r])}},V=function(e){var t,n=(0,u.Z)().account,r=(0,I.Z)().onConnectWallet,i=(0,L.ov)(e);return{withdrawHandle:c.useCallback((t=(0,C.Z)(T().mark(function e(t,a){var s,o,l,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return r(),e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,W.If)();case 6:if(e.sent){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,i.withdraw(t,a,U);case 11:return s=e.sent,e.next=14,s.wait();case 14:return o=e.sent,"0"===a?z.Am.success("Claim rewards successfully!"):z.Am.success("Withdraw successfully!"),e.abrupt("return",o.status);case 19:return e.prev=19,e.t0=e.catch(3),u=e.t0.reason||(null===(l=e.t0.data)||void 0===l?void 0:l.message)||e.t0.message,console.error(e.t0),z.Am.error(u),e.abrupt("return",-1);case 25:case"end":return e.stop()}},e,null,[[3,19]])})),function(e,n){return t.apply(this,arguments)}),[n,i,r])}},q=n(47178),B=n(85893),G=function(e){var t=e.visible,n=e.setVisible,i=e.value,a=e.successCallback,o=e.setValue,l=e.balance,u=void 0===l?new v.Z(0):l,d=e.token,f=e.pid,p=e.title,m=e.pool,h=(0,s.$G)().t,b=(0,q.Z)(null==d?void 0:d.address,m),w=b.allowance;b.fetchStatus;var j=c.useState(w.isEqualTo(0)),g=(0,r.Z)(j,2),k=g[0],y=g[1];c.useEffect(function(){t||y(w.isEqualTo(0))},[t,w]);var S=c.useState(!1),P=(0,r.Z)(S,2),I=P[0],L=P[1],D=(0,N.h)(null==d?void 0:d.address).handleApproveToken,W=c.useState(!1),U=(0,r.Z)(W,2),V=U[0],G=U[1],Q=M(m).depositHandle,R=c.useCallback(function(e){e.currentTarget.validity.valid&&o(e.currentTarget.value.replace(/,/g,"."))},[o]),F=c.useMemo(function(){return(0,O.NJ)(u,null==d?void 0:d.decimals)},[u,d]),H=c.useCallback(function(){o((0,O.U4)(u,null==d?void 0:d.decimals).toString())},[u,o,d]),$=c.useMemo(function(){return(0,O.Qe)(new v.Z(i),null==d?void 0:d.decimals)},[i,d]);return c.useEffect(function(){w.isGreaterThan(0)&&w.isLessThan($)&&y(!0)},[w,i,d,$]),(0,B.jsxs)(E.A,{visible:t,setVisible:n,title:p,children:[(0,B.jsx)(A.Z,{value:i,onSelectMax:H,onChange:R,max:F,decimals:null==d?void 0:d.decimals,symbol:null==d?void 0:d.symbol,addLiquidityUrl:(0,x.L5)(null==d?void 0:d.address),inputTitle:h("Stake")}),(0,B.jsxs)(Z.kC,{children:[k&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Z.zx,{iconLoading:I,onClick:(0,C.Z)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,D(m);case 3:L(!1);case 4:case"end":return e.stop()}},e)})),variant:"info",scale:"sm",mt:16,width:"100%",children:"Approve"}),(0,B.jsx)(Z.xu,{width:16})]}),(0,B.jsx)(Z.zx,{iconLoading:V,disabled:w.isLessThan($)||w.isEqualTo(0),onClick:(0,C.Z)(T().mark(function e(){var t;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!new v.Z(i).isLessThanOrEqualTo(0)){e.next=3;break}return z.Am.warning("Enter an amount"),e.abrupt("return");case 3:return G(!0),e.next=6,Q(f,(0,O.Qe)(new v.Z(i),null==d?void 0:d.decimals).toString());case 6:t=e.sent,G(!1),-1!==t&&(n(!1),null==a||a());case 9:case"end":return e.stop()}},e)})),scale:"sm",mt:16,width:"100%",children:"Stake"})]}),k&&(0,B.jsx)(Z.xu,{mt:"8px",children:(0,B.jsx)(_.ZP,{steps:[w.isGreaterThan(0)]})})]})},Q=function(e){var t=e.visible,n=e.setVisible,i=e.value,a=e.successCallback,o=e.setValue,l=e.balance,u=void 0===l?new v.Z(0):l,d=e.token,f=e.pid,p=e.pool,m=(0,s.$G)().t,x=c.useState(!1),h=(0,r.Z)(x,2),b=h[0],w=h[1],j=V(p).withdrawHandle,g=c.useCallback(function(e){e.currentTarget.validity.valid&&o(e.currentTarget.value.replace(/,/g,"."))},[o]),k=c.useMemo(function(){return(0,O.NJ)(u,null==d?void 0:d.decimals)},[u,d]),y=c.useCallback(function(){o((0,O.U4)(u,null==d?void 0:d.decimals).toString())},[u,o,d]);return(0,B.jsxs)(E.A,{visible:t,setVisible:n,title:"Withdraw",children:[(0,B.jsx)(A.Z,{value:i,onSelectMax:y,onChange:g,max:k,decimals:null==d?void 0:d.decimals,symbol:null==d?void 0:d.symbol,addLiquidityUrl:"/",inputTitle:m("Withdraw")}),(0,B.jsx)(Z.zx,{iconLoading:b,onClick:(0,C.Z)(T().mark(function e(){var t;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!new v.Z(i).isLessThanOrEqualTo(0)){e.next=3;break}return z.Am.warning("Enter an amount"),e.abrupt("return");case 3:return w(!0),e.next=6,j(f,(0,O.Qe)(new v.Z(i),null==d?void 0:d.decimals).toString());case 6:t=e.sent,w(!1),-1!==t&&(null==a||a(),n(!1));case 9:case"end":return e.stop()}},e)})),scale:"sm",mt:14,width:"100%",children:"Withdraw"})]})},R=n(16605),F=n(25973),H=function(e){var t=e.disabled,n=e.pool,i=e.pid,a=e.callback,s=V(n).withdrawHandle,o=c.useState(!1),l=(0,r.Z)(o,2),u=l[0],d=l[1];return(0,B.jsx)(Z.zx,{iconLoading:u,disabled:t,onClick:(0,C.Z)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,s(i,"0");case 3:e.sent,d(!1),null==a||a();case 6:case"end":return e.stop()}},e)})),width:"100%",variant:"info",mt:24,scale:"sm",children:"Claim Rewards"})};(0,S.ZP)(Z.At).withConfig({displayName:"earn__FlexCardStyled",componentId:"sc-1jlblmz-0"})(["min-width:60%;","{min-width:auto;}"],function(e){return e.theme.mediaQueries.ml});var $=function(){var e=(0,s.$G)().t,t=j().fetch,n=g().fetch,o=(0,u.Z)().account,l=(0,I.Z)().onConnectWallet,d=k(),f=y(),p=c.useState(d[0]),m=(0,r.Z)(p,2),x=m[0],h=m[1],b=c.useState(f[0]),w=(0,r.Z)(b,2),S=w[0],C=w[1],P=c.useState(!1),T=(0,r.Z)(P,2),E=T[0],A=T[1],_=c.useState(!1),N=(0,r.Z)(_,2),z=N[0],L=N[1],D=c.useState(""),W=(0,r.Z)(D,2),U=W[0],M=W[1],V=c.useState(""),q=(0,r.Z)(V,2),$=q[0],J=q[1];return c.useEffect(function(){E&&M("")},[E]),(0,B.jsxs)(a.Z,{children:[x&&(0,B.jsxs)(B.Fragment,{children:[E&&(0,B.jsx)(G,{visible:E,setVisible:A,successCallback:function(){t(),n()},value:U,pool:null==x?void 0:x.pool,pid:null==x?void 0:x.pid,balance:new v.Z(null==S?void 0:S.lpBalance),setValue:M,token:null==x?void 0:x.token1,title:$}),z&&(0,B.jsx)(Q,{visible:z,setVisible:L,successCallback:function(){t(),n()},pool:null==x?void 0:x.pool,value:U,pid:null==x?void 0:x.pid,balance:new v.Z(null==S?void 0:S.stakedAmount),setValue:M,token:null==x?void 0:x.token1})]}),(0,B.jsxs)(Z.xu,{maxWidth:960,margin:"auto",children:[(0,B.jsx)(Z.kC,{mt:80,alignItems:"center",justifyContent:"center",flexWrap:"wrap",children:(0,B.jsx)(Z.xv,{fontSize:"36px",bold:!0,textAlign:"center",children:e("Staking to Earn")})}),(0,B.jsx)(Z.xu,{mt:80,children:d.map(function(r,a){var s,u,c,d,p,m,x,b;return(0,B.jsxs)(Z.At,{boxPadding:"0",mt:24,header:"".concat(null==r?void 0:null===(s=r.token1)||void 0===s?void 0:s.symbol," Staking Statistics"),children:[(0,B.jsxs)(Z.kC,{padding:"16px 0",justifyContent:"space-around",children:[(0,B.jsx)(R.Z,{title:"Current Staking",value:(0,O.U4)(new v.Z(r.totalAmount),r.decimals).toNumber()}),(0,B.jsx)(R.Z,{unit:" %",title:"APY",value:r.apy})]}),(0,B.jsx)(Z.iz,{margin:"auto"}),(0,B.jsxs)(i._,{children:[(0,B.jsx)(F.Z,{leftBorder:!0,height:226,title:"My Staking",tokenSymbol:null==r?void 0:null===(u=r.token1)||void 0===u?void 0:u.symbol,value:(0,O.U4)(new v.Z(null==f?void 0:null===(c=f[a])||void 0===c?void 0:c.stakedAmount),null==r?void 0:r.decimals).toNumber(),children:new v.Z(null==f?void 0:null===(d=f[a])||void 0===d?void 0:d.stakedAmount).isGreaterThan(0)?(0,B.jsxs)(Z.kC,{width:"100%",justifyContent:"space-between",children:[(0,B.jsx)(Z.zx,{onClick:function(){J("Stake More"),h(r),C(null==f?void 0:f[a]),A(!0)},mt:24,scale:"sm",width:"50%",children:e("Stake More")}),(0,B.jsx)(Z.xu,{width:24}),(0,B.jsx)(Z.zx,{onClick:function(){h(r),C(null==f?void 0:f[a]),L(!0)},mt:24,scale:"sm",width:"50%",variant:"info",children:e("Withdraw")})]}):(0,B.jsx)(Z.zx,{onClick:function(){if(!o){l();return}J("Start Staking"),h(r),C(null==f?void 0:f[a]),A(!0)},mt:24,width:"100%",scale:"sm",children:e("Start Staking")})}),(0,B.jsx)(Z.iz,{className:"hide-media-ml",margin:"auto"}),(0,B.jsx)(F.Z,{height:226,title:"My Rewards",tokenSymbol:null==r?void 0:null===(p=r.rewardToken)||void 0===p?void 0:p.symbol,value:(0,O.U4)(new v.Z(null===(m=f[a])||void 0===m?void 0:m.unclaimedRewards),null==r?void 0:null===(x=r.rewardToken)||void 0===x?void 0:x.decimals).toNumber(),children:(0,B.jsx)(H,{disabled:new v.Z(null===(b=f[a])||void 0===b?void 0:b.unclaimedRewards).isLessThanOrEqualTo(0),pid:r.pid,pool:r.pool,callback:function(){t(),n()}})})]})]},r.pool)})}),!(null!=d&&d.length)&&(0,B.jsx)(Z.xu,{mt:80,children:(0,B.jsx)(Z.$j,{})})]})]})};function J(){return(0,B.jsx)($,{})}},4695:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn",function(){return n(42571)}])}},function(e){e.O(0,[662,613,663,329,572,684,398,774,888,179],function(){return e(e.s=4695)}),_N_E=e.O()}]);